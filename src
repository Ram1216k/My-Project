# Simple Python example: command-line utility that reads a file, counts words, and prints top 10 words.

import sys
from collections import Counter
import re

def count_words(text):
    words = re.findall(r"\b\w+\b", text.lower())
    return Counter(words)

def print_top(counter, n=10):
    for word, count in counter.most_common(n):
        print(f"{word}: {count}")

def main():
    if len(sys.argv) < 2:
        print("Usage: python sample_app.py <path-to-text-file>")
        sys.exit(1)

    path = sys.argv[1]
    try:
        with open(path, "r", encoding="utf-8") as f:
            text = f.read()
    except Exception as e:
        print(f"Error reading file: {e}")
        sys.exit(2)

    counts = count_words(text)
    print_top(counts, 10)

if __name__ == "__main__":
    main()
